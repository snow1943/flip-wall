<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3D 翻转墙 - 模块化重构 v13</title>
    <link rel="stylesheet" href="./styles/main.css" />
</head>

<body>
    <div id="experience-ui">
        <aside id="quick-switch-panel" aria-label="快捷配色和动画切换">
            <section class="quick-switch-group" aria-label="快捷配色">
                <h2 class="quick-switch-title">快捷配色</h2>
                <div id="quick-color-list" class="quick-switch-list"></div>
            </section>
            <section class="quick-switch-group" aria-label="快捷动画">
                <h2 class="quick-switch-title">快捷动画</h2>
                <div id="quick-effect-list" class="quick-switch-list"></div>
            </section>
        </aside>
        <div class="hero-panel">
            <h1 id="slogan">Flip The Beat, Light The Wall</h1>
            <button id="upload-music-btn" type="button">上传歌曲文件</button>
            <p class="upload-hint">支持 MP3 / M4A / WAV / FLAC / AAC / OGG / OPUS</p>
            <div id="preset-music-list"></div>
            <p id="experience-status">请选择一首音乐开始编排</p>
        </div>
        <div id="lyrics-overlay" aria-live="polite" aria-atomic="true">
            <p id="lyric-main"></p>
            <p id="lyric-next"></p>
        </div>
        <div id="music-transport" aria-label="音乐播放控制">
            <button id="transport-play-toggle" type="button">播放</button>
            <div id="transport-track-wrap">
                <input id="transport-seek" type="range" min="0" max="1000" step="1" value="0" />
                <div id="transport-time">
                    <span id="transport-current">00:00</span>
                    <span>/</span>
                    <span id="transport-duration">00:00</span>
                </div>
            </div>
        </div>
    </div>
    <div id="ui">
        <h2>3D 像素翻转墙 v13 (基于 v12 重构)</h2>
        <p>左键旋转 | 右键平移 | 滚轮缩放</p>
        <p id="interaction-hint">展示模式：按序列显示数字/英文/中文</p>
        <p id="mode-hint">当前模式：展示模式（支持文字播放）</p>
        <p id="music-hint">音乐驱动：未加载音源</p>
    </div>
    <div id="gui-container"></div>
    <button id="settings-toggle" type="button">调试设置</button>
    <input
        id="music-file-input"
        type="file"
        accept=".mp3,.m4a,.wav,.flac,.aac,.ogg,.opus,audio/*"
        style="display:none"
    />

    <script src="../vendor/three-r128.min.js"></script>
    <script src="../vendor/OrbitControls-r128.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.7/dat.gui.min.js"></script>
    <script>
        if (typeof dat === 'undefined') {
            document.write('<script src="https://cdn.jsdelivr.net/npm/dat.gui@0.7.9/build/dat.gui.min.js"><\\/script>');
        }
    </script>

    <script src="./src/config/colorPresets.js"></script>
    <script src="./src/config/springLayout.js"></script>
    <script src="./src/config/pixelFont.js"></script>
    <script src="./src/ui/settingsPanel.js"></script>
    <script src="./src/main.js"></script>
</body>

</html>
